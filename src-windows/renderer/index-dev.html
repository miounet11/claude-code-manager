<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Miaoda for Windows (Dev Mode)</title>
  <link rel="stylesheet" href="styles/windows.css">
  <link rel="stylesheet" href="styles/fluent.css">
  <style>
    /* å¼€å‘æ¨¡å¼æŒ‡ç¤ºå™¨ */
    .dev-indicator {
      position: fixed;
      top: 40px;
      right: 10px;
      background: #ff6b6b;
      color: white;
      padding: 4px 12px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 600;
      z-index: 9999;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.6; }
      100% { opacity: 1; }
    }
  </style>
</head>
<body class="windows-app">
  <!-- å¼€å‘æ¨¡å¼æŒ‡ç¤ºå™¨ -->
  <div class="dev-indicator">DEV MODE</div>

  <!-- å¤åˆ¶ index.html çš„å†…å®¹ -->
  <div class="titlebar">
    <div class="titlebar-drag-region">
      <img src="../../assets/icon.ico" class="titlebar-icon" alt="Miaoda">
      <span class="titlebar-text">Miaoda - AI Service Bridge (Development)</span>
    </div>
    <div class="titlebar-controls">
      <button class="titlebar-btn" id="minimize-btn">
        <svg width="10" height="1">
          <path d="M 0 0 L 10 0" stroke="currentColor" stroke-width="1"/>
        </svg>
      </button>
      <button class="titlebar-btn" id="maximize-btn">
        <svg width="10" height="10">
          <path d="M 0 0 L 0 10 L 10 10 L 10 0 Z" stroke="currentColor" stroke-width="1" fill="none"/>
        </svg>
      </button>
      <button class="titlebar-btn close" id="close-btn">
        <svg width="10" height="10">
          <path d="M 0 0 L 10 10 M 10 0 L 0 10" stroke="currentColor" stroke-width="1"/>
        </svg>
      </button>
    </div>
  </div>

  <div class="app-container">
    <aside class="sidebar">
      <div class="sidebar-header">
        <img src="../../assets/logo.png" alt="Miaoda" class="logo">
        <div class="version">v1.0.0-dev</div>
      </div>

      <nav class="nav-menu">
        <div class="nav-section">
          <h3 class="nav-section-title">å¿«é€Ÿå¼€å§‹</h3>
          <button class="nav-item active" data-page="terminal">
            <span class="nav-icon">ğŸ’»</span>
            <span class="nav-text">ç»ˆç«¯</span>
          </button>
          <button class="nav-item" data-page="environment">
            <span class="nav-icon">ğŸ”§</span>
            <span class="nav-text">ç¯å¢ƒæ£€æµ‹</span>
          </button>
          <button class="nav-item" data-page="config">
            <span class="nav-icon">âš™ï¸</span>
            <span class="nav-text">é…ç½®ç®¡ç†</span>
          </button>
        </div>

        <div class="nav-section">
          <h3 class="nav-section-title">é«˜çº§åŠŸèƒ½</h3>
          <button class="nav-item" data-page="services">
            <span class="nav-icon">ğŸŒ</span>
            <span class="nav-text">AI æœåŠ¡</span>
          </button>
          <button class="nav-item" data-page="stats">
            <span class="nav-icon">ğŸ“Š</span>
            <span class="nav-text">ä½¿ç”¨ç»Ÿè®¡</span>
          </button>
        </div>

        <!-- å¼€å‘æ¨¡å¼ä¸“ç”¨ -->
        <div class="nav-section">
          <h3 class="nav-section-title">å¼€å‘å·¥å…·</h3>
          <button class="nav-item" onclick="location.reload()">
            <span class="nav-icon">ğŸ”„</span>
            <span class="nav-text">é‡æ–°åŠ è½½</span>
          </button>
          <button class="nav-item" onclick="miaodaAPI.app.openDevTools()">
            <span class="nav-icon">ğŸ›</span>
            <span class="nav-text">å¼€å‘è€…å·¥å…·</span>
          </button>
        </div>
      </nav>

      <div class="sidebar-footer">
        <button class="action-btn primary" id="start-claude-btn">
          <span class="btn-icon">â–¶ï¸</span>
          <span>å¯åŠ¨ Claude</span>
        </button>
      </div>
    </aside>

    <main class="main-content">
      <div class="page active" id="terminal-page">
        <div class="page-header">
          <h1>Windows ç»ˆç«¯</h1>
          <div class="terminal-tabs" id="terminal-tabs">
            <div class="tab active" data-session="default">
              <span class="tab-title">PowerShell</span>
              <button class="tab-close">Ã—</button>
            </div>
            <button class="tab-add" id="add-terminal-btn">+</button>
          </div>
        </div>
        <div class="terminal-container" id="terminal-container"></div>
      </div>

      <div class="page" id="environment-page">
        <div class="page-header">
          <h1>ç¯å¢ƒæ£€æµ‹</h1>
          <button class="btn secondary" id="refresh-env-btn">åˆ·æ–°</button>
        </div>
        <div class="env-content">
          <div class="env-summary" id="env-summary"></div>
          <div class="env-details" id="env-details"></div>
        </div>
      </div>

      <div class="page" id="config-page">
        <div class="page-header">
          <h1>é…ç½®ç®¡ç†</h1>
          <button class="btn primary" id="add-config-btn">æ–°å»ºé…ç½®</button>
        </div>
        <div class="config-list" id="config-list"></div>
      </div>

      <div class="page" id="services-page">
        <div class="page-header">
          <h1>AI æœåŠ¡é…ç½®</h1>
        </div>
        <div class="services-content">
          <div class="service-cards" id="service-cards"></div>
        </div>
      </div>

      <div class="page" id="stats-page">
        <div class="page-header">
          <h1>ä½¿ç”¨ç»Ÿè®¡</h1>
        </div>
        <div class="stats-content">
          <div class="stats-cards">
            <div class="stat-card">
              <h3>ä»Šæ—¥ä½¿ç”¨</h3>
              <div class="stat-value" id="today-usage">0</div>
              <div class="stat-unit">tokens</div>
            </div>
            <div class="stat-card">
              <h3>æœ¬æœˆä½¿ç”¨</h3>
              <div class="stat-value" id="month-usage">0</div>
              <div class="stat-unit">tokens</div>
            </div>
            <div class="stat-card">
              <h3>é¢„ä¼°è´¹ç”¨</h3>
              <div class="stat-value" id="estimated-cost">$0.00</div>
              <div class="stat-unit">USD</div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <footer class="statusbar">
    <div class="status-item">
      <span class="status-icon">ğŸŸ¢</span>
      <span class="status-text" id="connection-status">å·²è¿æ¥</span>
    </div>
    <div class="status-item">
      <span class="status-text" id="current-model">claude-3-7-sonnet</span>
    </div>
    <div class="status-item">
      <span class="status-text" id="system-info">Windows 11</span>
    </div>
  </footer>

  <!-- å¼€å‘æ¨¡å¼ä¸‹çš„æ§åˆ¶å°è¾“å‡º -->
  <script>
    console.log('%c Miaoda Windows Dev Mode ', 'background: #0078d4; color: white; padding: 5px 10px; border-radius: 3px;');
    console.log('Platform:', navigator.platform);
    console.log('User Agent:', navigator.userAgent);
    console.log('API available:', typeof miaodaAPI !== 'undefined');
  </script>

  <script src="app.js"></script>
</body>
</html>