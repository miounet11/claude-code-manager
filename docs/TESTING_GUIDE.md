# Miaoda 3.0.1 功能测试指南

## 测试前准备

确保应用在开发模式下运行：
```bash
npm run dev
```

## 功能测试步骤

### 1. 环境检测测试

1. 打开应用，默认进入"环境检测"面板
2. 查看各项依赖的检测状态：
   - ✅ Node.js - 应该显示版本号
   - ✅ Git - 应该显示版本号
   - ❌ Claude CLI - 如果未安装，显示"未安装"和"安装"按钮
   - ❌ UV - 如果未安装，显示"未安装"和"安装"按钮

3. 点击"刷新"按钮，重新检测环境

### 2. 依赖安装测试

如果 Claude CLI 或 UV 显示未安装：

1. 点击对应的"安装"按钮
2. 按钮会变成"安装中..."
3. 观察终端面板是否有安装进度信息
4. 安装完成后会自动刷新状态

**注意**：Claude CLI 的实际安装命令可能需要调整，取决于官方提供的安装方式。

### 3. 配置管理测试

1. 切换到"配置管理"面板
2. 默认应该有一个"默认配置"

**创建新配置**：
1. 点击"新建"按钮
2. 填写配置信息：
   - 配置名称：测试配置
   - API Key：sk-ant-xxxxx（您的实际 API Key）
   - API URL：https://api.anthropic.com
   - 模型：选择 Claude 3 Opus
   - 代理设置：（可选）http://proxy:8080
3. 点击"保存"

**测试配置切换**：
1. 点击左侧配置列表中的不同配置
2. 右侧表单应该自动更新显示对应配置的信息

**删除配置**：
1. 选择一个配置
2. 点击"删除"按钮
3. 确认删除

### 4. 系统终端集成测试

1. 确保已经配置好 API Key
2. 切换到"终端"面板
3. 点击"在系统终端中打开"按钮
4. 应该会：
   - macOS：打开 Terminal.app
   - Windows：打开 cmd 窗口
   - Linux：打开默认终端
5. 终端中应该自动设置了环境变量并运行 `claude` 命令

### 5. 内置终端测试（模拟）

1. 在"终端"面板点击"启动 Claude"
2. 终端应该显示启动信息
3. 在输入框输入文本并回车
4. 应该看到模拟的 Claude 响应

### 6. 配置持久化测试

1. 创建或修改配置后，关闭应用
2. 重新启动应用
3. 检查配置是否仍然存在

配置文件位置：
- macOS: `~/Library/Application Support/miaoda/claude-configs.json`
- Windows: `%APPDATA%/miaoda/claude-configs.json`
- Linux: `~/.config/miaoda/claude-configs.json`

## 已知问题

1. **系统信息一直显示"加载中..."**
   - 这是因为某些系统信息获取可能需要时间
   - 可以手动刷新环境检测

2. **配置测试功能未实现**
   - "测试"按钮目前只显示提示
   - 后续版本会实现实际的 API 连接测试

3. **Claude CLI 安装**
   - 实际的安装命令可能需要根据官方文档调整
   - 如果自动安装失败，请手动安装

## 调试技巧

1. 打开开发者工具（Cmd+Option+I 或 F12）查看控制台输出
2. 检查网络请求是否正常
3. 查看主进程日志输出

## 反馈问题

如果遇到问题，请提供：
1. 操作步骤
2. 预期结果
3. 实际结果
4. 控制台错误信息（如果有）